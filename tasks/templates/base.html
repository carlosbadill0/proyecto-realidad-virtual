<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0 , maximum-scale=1.0, user-scalable=no" />
    
    <title>{% block title %}EasyFlow{% endblock %}</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css"
    />

    {% load static %}
    <link rel="stylesheet" href="{% static 'css/base.css' %}" />
    {% block extra_css %}{% endblock %}

    
  </head>
  <body>
    <header class="py-2 mb-2 border-bottom">
      <div class="row">
        <div class="col-1">
          <button id="toggle-sidebar" class="btn btn-custom3 btn-left-absolute">☰</button>
        </div>
        <div class="col-9 fixed-col">
          <div class="container-fluid d-flex justify-content-between align-items-center mt-2">
            {% load static %}
            <div class="fixed-image-container">
              <img
                src="{% static 'images/logo-ubb.png' %}"
                alt="Logo"
                class="tamano2"
              />
            </div>
            <form class="search-bar">
              <div class="fixed-image-container">
                <img
                  src="{% static 'images/Recurso2.png' %}"
                  alt="Logo"
                  class="tamano1"
                />
              </div>
            </form>
          </div>
        </div>
        <div class="col-2 mt-2 text-center">
          {% if user.is_authenticated %}
            <a class=" bi bi-box-arrow-left posicion-a " href="/logout"> Cerrar sesión</a>
          {% endif %}
        </div>
      </div>
    </header>
    {% if user.is_authenticated %}
    <div class="sidebar">
      <!-- User Profile Section -->

      <!-- Navigation Links -->
       <br>
      <ul class="nav flex-column">
        <li class="nav-item">
          <a
            class="nav-link {% if request.path == '/home/' %}fw-bold{% endif %}"
            href="/home/"
            ><i class="bi bi-house-door"></i> Inicio</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link {% if request.path == '/evaluaciones_realizadas/' %}fw-bold{% endif %}"
            href="/evaluaciones_realizadas/"
            ><i class="bi bi-calendar"></i> Evaluaciones</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link {% if request.path == '/diseñar/' %}fw-bold{% endif %}"
            href="/diseñar/"
            ><i class="bi bi-pencil-square"></i> Diseñar evaluación</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link {% if request.path == '/expositores/' %}fw-bold{% endif %}"
            href="/expositores/"
           
            ><i class="bi bi-people"></i> Expositores</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link {% if request.path == '/administrar/' %}fw-bold{% endif %}"
            href="/administrar/"
            ><i class="bi bi-gear"></i> Administrar</a
          >
        </li>

        <a class="nav-link {% if request.path == '/acerca-de/' %}fw-bold{% endif %}" href="{% url 'acerca_de' %}">
          <i class="bi bi-info-circle"></i> Acerca de
        </a>
      </li>
      </ul>

      <div><hr></div>
    
      <div class="user-info mt-0">
        <img
          src="{% static 'images/prueba4.png' %}"
          alt="User Avatar"
          class="avatar"
        />
        <h6 class="text-center">{{ user.first_name }} {{ user.last_name }}</h6>
        <p>{{ user.username }}</p>
        <p class="text-center">{{ user.email }}</p>
        <p>{{ user.groups.first.name }}</p>
      </div>
      
    </div>
    {% endif %}
    <div class="content">
      <div class="container mt-4 pt-4">{% block content %}{% endblock %}</div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // JavaScript para alternar la visibilidad de la sidebar
      document
        .getElementById("toggle-sidebar")
        .addEventListener("click", function () {
          document.querySelector(".sidebar").classList.toggle("hidden");
          document.querySelector(".content").classList.toggle("full-width");
        });
    </script>
    {% block extra_js %}{% endblock %}
  </body>
</html>
